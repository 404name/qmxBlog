<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<!--请适当使用搜索功能，检索href="#",查找当前空缺接口-->
<head>
    <!--  防止乱码-->
    <meta charset="utf-8">
    <!--  提升网页兼容性-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="Shortcut Icon" th:href="@{/static/img/qmx_icon.png}" type="image/x-icon"/>
    <link rel="icon" th:href="@{/static/img/qmx_icon.png}" sizes="32x32" type="image/png">
    <link rel="icon" th:href="@{/static/img/qmx_icon.png}" sizes="16x16" type="image/png">
    <title>启明星工作室</title>

    <!-- 自定义字体-->
    <link th:href="@{/static/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">

    <!-- 自己的css-->
    <link th:href="@{/static/css/myWeb-min.css}" rel="stylesheet">

    <style>
        /*去除a标签的所有效果*/
        /*包含以下四种的链接*/
        a {
            text-decoration: none;
        }
        /*正常的未被访问过的链接*/
        a:link {
            text-decoration: none;
        }
        /*已经访问过的链接*/
        a:visited {
            text-decoration: none;
        }
        /*鼠标划过(停留)的链接*/
        a:hover {
            text-decoration: none;
        }
        /* 正在点击的链接*/
        a:active {
            text-decoration: none;
        }
    </style>
</head>

<body id="page-top" onload="sideBarFun();">

<!-- 页面整体 -->
<div id="wrapper">

    <!-- 侧边栏 -->
    <div th:replace="~{commonModule/module::sideBar(active='mainPage')}"></div>
    <!-- 侧边栏到此为止啦 -->

    <!-- 接下来是主内容区域 -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- 主内容 -->
        <div id="content">

            <div th:replace="~{commonModule/module::navBar(IndexBtn=false)}"></div>

            <!-- 主页内容 -->
            <div class="container-fluid">

                <!--轮播图部分-->
                <!--首先是轮播图的头框-->
                <!--                导航   内容横向排列  导航栏风格  背景色-->
                <nav class="navbar navbar-expand-md navbar-dark bg-primary shadow" style="border-radius: 3px;">
                    <!--        navbar-brand设置导航条组件内的商标名一类性质的内容-->
                    <a class="navbar-brand" href="#">欢迎来到启明星工作室网站</a>
                    <!--        这是个按钮是在界面缩小时才显示的按钮，用于显示隐藏起来的导航内容-->
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
                            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <!--            这是按钮的图标，三道杠二队长-->
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarCollapse">
                        <!--        自动排版，指自动左右分散-->
                        <ul class="navbar-nav mr-auto form-inline">
                        </ul>

                        <div class="navbar-nav form-inline">
                            <a class="nav-link" href="aboutUs"><i class="fas fa-envelope fa-info"></i> 关于我们</a>
                            <a class="nav-link" href="contactUs"><i class="fas fa-envelope fa-paper-plane"></i> 联系我们</a>
                            <a class="nav-link" href="problemFeedback"><i class="fas fa-envelope fa-comments"></i> 问题反馈</a>
                        </div>
                    </div>
                </nav>
                <div id="myCarousel" class="carousel slide shadow" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <!--       该属性保存一部分id         轮播图中第几张图的下标  第一张轮播图-->
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1" class=""></li>
                        <li data-target="#myCarousel" data-slide-to="2" class=""></li>
                    </ol>
                    <div class="carousel-inner" style="border-radius: 5px;">
                        <div class="carousel-item active">
                            <!--                裁切图片大小-->
                            <div class="m-0" style="width: 100%; max-height: 600px;overflow: hidden;">
                                <img style="width: 100%;"
                                     th:src="@{/static/img/carousel/carousel-3.jpg}" alt="">
                            </div>

                            <div class="container">
                                <div class="carousel-caption text-left">
                                    <h1>xxxxxxxx</h1>
                                    <p>xxxxxxxx</p>
                                    <!--                                按钮  按钮样式-->
                                    <p><a class="btn btn-lg btn-primary" href="#" role="button">xxxx</a></p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">

                            <div style="width: 100%; max-height: 600px;overflow: hidden;">
                                <img style=" width: 100%;"
                                     th:src="@{/static/img/carousel/carousel-1.jpg}" alt="">
                            </div>

                            <div class="container">
                                <div class="carousel-caption">
                                    <h1>xxxxxxx</h1>
                                    <p>xxxxxxxxxxxx</p>
                                    <p><a class="btn btn-lg btn-primary" href="#" role="button">xxxxxxxxx</a></p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">

                            <div class="m-0" style="width: 100%; max-height: 600px;overflow: hidden;">
                                <img style="width: 100%;"
                                     th:src="@{/static/img/carousel/carousel-2.jpg}" alt="">
                            </div>

                            <div class="container">
                                <div class="carousel-caption text-right">
                                    <h1>xxxxxxxxxx</h1>
                                    <p>xxxxxxxxxxxxxxxx</p>
                                    <p><a class="btn btn-lg btn-primary" href="#" role="button">xxxxxxxxxx</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--    用于响应本页面上的myCarousel来改变data-slide的下标，达到自主切换的轮播图-->
                    <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                        <!--              箭头-->
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span>上一页</span>
                    </a>
                    <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                        <span>下一页</span>
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </a>
                </div>
                <!-- 轮播图结束-->

                <!--统计卡片-->
                <div class="row mt-3">

                    <div class="col-xl-4 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="font-weight-bold text-primary text-uppercase mb-1">现有软件组用户</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="softUserNum">登陆以查看</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-code fa-2x text-primary"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--统计卡片-->
                    <div class="col-xl-4 col-md-6 mb-4">
                        <div class="card border-left-success shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="font-weight-bold text-success text-uppercase mb-1">现有硬件组用户</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="hardwareUserNum">登陆以查看</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-microchip fa-2x text-success"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--统计卡片-->
                    <div class="col-xl-4 col-md-6 mb-4">
                        <a href="webGroupPostsPage">
                            <div class="card border-left-warning shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="font-weight-bold text-warning text-uppercase mb-1">讨论帖数量</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800" id="postingnum">登陆以查看</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-comments fa-2x text-warning"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- 统计卡片结束-->

                <div class="row">
                    <!--表格区域-->
                    <div class="col-xl-8 col-lg-7">
                        <div class="card shadow mb-4">
                            <!-- 表格内容+表格功能+下拉菜单 -->
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">每周签到人数统计</h6>
                                <!--                  下拉菜单-->
                                <div class="dropdown no-arrow">
                                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink1"
                                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                         aria-labelledby="dropdownMenuLink1">
                                        <a class="dropdown-item" href="#">刷新</a>
                                    </div>
                                </div>
                            </div>

                            <!-- 表格主体 -->
                            <div class="card-body">
                                <div class="chart-area">
                                    <!--                    canvas绘图-->
                                    <canvas id="myAreaChart"></canvas>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 饼图主体 -->
                    <div class="col-xl-4 col-lg-5">
                        <div class="card shadow mb-4">
                            <!-- 饼图头部 -->
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">本周两组签到比例</h6>
                                <!--                  下拉菜单-->
                                <div class="dropdown no-arrow">
                                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink2"
                                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                         aria-labelledby="dropdownMenuLink2">
                                        <a class="dropdown-item" href="#">刷新</a>
                                    </div>
                                </div>
                            </div>
                            <!-- 主体 -->
                            <div class="card-body">
                                <div class="chart-pie pt-4 pb-2">
                                    <!--                    签到比例饼图的canvas-->
                                    <canvas id="myPieChart"></canvas>

                                </div>
                                <div class="mt-4 text-center small">
                    <span class="mr-2">
                      <i class="fas fa-circle text-success"></i> 硬件组
                    </span>
                                    <span class="mr-2">
                      <i class="fas fa-circle text-primary"></i> 软件组
                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 主体内容结束-->

        <!-- 页脚 -->
        <footer class="sticky-footer bg-white">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>Copyright &copy; 三峡大学启明星工作室 2020 - 鄂ICP备15002584号</span>
                </div>
            </div>
        </footer>
        <!--页脚也就这么点点-->

    </div>
    <!-- 总内容也就这么多了-->

</div>
<!--主体的区域结束了，接下来就是弹窗的div等部分-->

<!-- 回到最上-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!--登出时弹出的窗口-->

<!-- <div class="model fade" id="testWindow" tabindex="-1" role="dialog" aria-hidden="true">-->
<!--    测试弹窗！data-toggle="modal" data-target="#testWindow"-->
    <script type="text/javascript">
        window.onload = function () {
            $.ajax({
                type: "GET",
                url: "/usermessage",
                success: function(data){
                    var s1 = data.userclasses[1].userclassnum;
                    var s2 = data.userclasses[2].userclassnum;
                    $('#softUserNum').html(s1);
                    $('#hardwareUserNum').html(s2);
                }
            });
            $.ajax({
                type: "GET",
                url: "/postingmessage",
                success: function(data){
                    var s1 = data.postingnum;
                    $('#postingnum').html(s1);
                }
            });
        };
    </script>

<!-- 使用Boostrap之前必须先引用这两个-->
<script th:src="@{/static/vendor/jquery/jquery.min.js}"></script>
<script th:src="@{/static/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

<!-- 一些js插件-->
<script th:src="@{/static/vendor/jquery-easing/jquery.easing.min.js}"></script>

<!-- 自己的js文件-->
<script th:src="@{/static/js/index.js}"></script>

<!-- 关于表格的js插件 -->
<script th:src="@{/static/vendor/chart.js/Chart.min.js}"></script>

<!--引入表格 一个折线图另一个饼图-->
<script th:src="@{/static/js/graph/chart-area-demo.js}"></script>
<script th:src="@{/static/js/graph/chart-pie-demo.js}"></script>

<script>
    (function() {
        if(IsMobile()){
            $("body").addClass("sidebar-toggled");
            $(".sidebar").addClass("toggled");
            $('.sidebar .collapse').collapse('hide');
        }
    })(jQuery)
</script>
</body>

</html>
